---
layout: page
title : 归档
tagline : 归档
header : Post Archive
group: navigation
description: 所有文章归档. 冯智超的个人网站, 博客. 关注 Ruby on Rails, 网页设计, 网站开发, HTML, HTML5, Javascript, CSS, CSS3, 新特性与教程.
---
{% include JB/setup %}

.archives
{% assign posts_collate = site.posts %}

{% for post in posts_collate %}
  {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
  {% capture this_month %}{{ post.date | date: "%B" }}{% endcapture %}
  {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
  {% capture next_month %}{{ post.previous.date | date: "%B" }}{% endcapture %}

  {% if forloop.first %}
  .archive-year{:class => "year-{{this_year}}"}
    %h2.year
      %a{:href => '#!/{{this_year}}'} {{this_year}}
    .archive-months
      .archive-month{:class => "{{this_month}}"}
        %h3.month
          %a{:href => '#!/{{this_year}}/{{this_month}}'} {{this_month}}
        %ul.blog-links
  {% endif %}

          %li.blog-link
            %span
              %span.blog-date
                {{ post.date | date: "%B %e, %Y" }} &raquo;
              %a{:title => "post.title", :href => "{{ BASE_PATH }}{{ post.url }}"} {{ post.title }}
  {% if next_year != "" %}
    {% if this_year != next_year %}

      .month-bar

  .archive-year{:class => "year-{{next_year}}"}
    %h2.year
      %a{:href => '#!/{{next_year}}'} {{next_year}}
    .archive-months
      .archive-month{:class => "{{next_month}}"}
        %h3.month
          %a{:href => '#!/{{next_year}}/{{next_month}}'} {{next_month}}
        %ul.blog-links
    {% else %}
      {% if this_month != next_month %}
      .archive-month{:class => "{{next_month}}"}
        %h3.month
          %a{:href => '#!/{{next_year}}/{{next_month}}'} {{next_month}}
        %ul.blog-links
      {% endif %}
    {% endif %}
  {% endif %}
{% endfor %}

{% assign posts_collate = nil %}
      .month-bar
  .year-bar

  .current-links

%script{:type => "text/javascript"}
  MenuData = {% blogs_json %};

%script{:src => "/assets/javascripts/underscore.js", :type => "text/javascript"}
%script{:src => "/assets/javascripts/backbone.js", :type => "text/javascript"}
%script{:src => "/assets/javascripts/menu.js", :type => "text/javascript"}
